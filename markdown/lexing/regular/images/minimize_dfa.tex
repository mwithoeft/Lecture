\documentclass[
    border=0.2cm,
    convert={density=600}
]{standalone}

\usepackage{listings}
\usepackage{standalone}
\usepackage{xcolor}

\begin{document}

\begin{lstlisting} [mathescape, backgroundcolor=\color{lightgray},
basicstyle=\scriptsize\ttfamily]
for each (p,q) with p,q $\in Q \times Q$, p $\neq$ q:
  if (p $\in$ F and q $\notin$ F) or (p $\notin$ F and q $\in$ F):
    D(p,q) = "-"
  else
    D(p,q) = $\epsilon$

repeat 
  for each (q,p) $\in Q \times Q$ with  p $\neq$ q:
    for each a $\in$ $\Sigma$:
      if D(p,q) = $\epsilon$ and
          D($\delta$(p,a), $\delta$(q,a)) $\neq \epsilon $:
        D(p,q) = a
until there are no changes

for each entry in D with D(p,q) = $\epsilon$:
  combine p and q to one state
\end{lstlisting}

\end{document}
