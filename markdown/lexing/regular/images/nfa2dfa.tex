\documentclass[
    border=0.2cm,
    convert={density=600}
]{standalone}

\usepackage{listings}
\usepackage{standalone}
\usepackage{xcolor}

\begin{document}

\begin{lstlisting} [mathescape, backgroundcolor=\color{lightgray},
    basicstyle=\scriptsize\ttfamily]
    $ Q' = \{\{q_0\}\} $;
    for each state q in Q' do
      for each a $ \in \Sigma$ do
        s = {p | $\delta$(r, a) = p, r $ \in $ q}
        Q' = Q' $\cup$ {s}
        $\delta$'(q,a) = s
    F' = {q $\in$ Q' | q $\cap$ F $\neq$ $\emptyset$}
    {p,q} ->  pq //Umbenennung
\end{lstlisting}

\end{document}
